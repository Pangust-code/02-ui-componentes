import{a as T,b as M,e as k,k as S}from"./chunk-HKBPLZ6F.js";import{a as H}from"./chunk-QM2YM7WW.js";import{$a as s,Fa as w,Hb as P,Pa as _,Qa as f,Ta as g,Ua as t,V as p,Va as n,W as x,Wa as h,_a as D,ab as m,bb as E,ca as u,db as i,fb as b,gb as y,hb as v,ib as C,qa as l}from"./chunk-T354NBZE.js";import"./chunk-2VMXMS7J.js";function N(d,a){d&1&&(t(0,"div",5)(1,"div",21)(2,"h3",22),i(3,"Procesando..."),n(),t(4,"p",23),i(5,"Por favor espera mientras guardamos tu texto."),n(),t(6,"div",24),h(7,"div",25),n()()())}function V(d,a){if(d&1){let r=D();t(0,"div",5)(1,"div",26)(2,"div",8)(3,"h3",27),i(4,"Guardando Texto"),n(),t(5,"button",28),s("click",function(){p(r);let o=m();return x(o.closeModal())}),i(6," \xD7 "),n()(),t(7,"div",23)(8,"p",29),i(9,"Guardando tu documento..."),n(),t(10,"div",30),h(11,"div",31),n(),t(12,"p",32),i(13),n()(),t(14,"div",33)(15,"button",34),s("click",function(){p(r);let o=m();return x(o.cancelSave())}),i(16," \u274C Cancelar "),n(),t(17,"button",35),s("click",function(){p(r);let o=m();return x(o.saveInBackground())}),i(18," \u{1F504} Continuar en segundo plano "),n()()()()}if(d&2){let r=m();l(11),E("width",r.saveProgress(),"%"),l(2),b("",r.saveProgress(),"% completado")}}var I=class d{content="";showModal=u(!1);saveProgress=u(0);history=u([""]);currentIndex=u(0);onTextChange(){let a=this.history().slice(0,this.currentIndex()+1);a.push(this.content),this.history.set(a),this.currentIndex.set(a.length-1)}canUndo(){return this.currentIndex()>0}canRedo(){return this.currentIndex()<this.history().length-1}undo(){this.canUndo()&&(this.currentIndex.update(a=>a-1),this.content=this.history()[this.currentIndex()])}redo(){this.canRedo()&&(this.currentIndex.update(a=>a+1),this.content=this.history()[this.currentIndex()])}saveText(){this.showModal.set(!0),this.saveProgress.set(0);let a=setInterval(()=>{let r=this.saveProgress();r<100?this.saveProgress.set(Math.min(r+20,100)):(clearInterval(a),setTimeout(()=>this.closeModal(),1e3))},500)}closeModal(){this.showModal.set(!1),this.saveProgress.set(0)}cancelSave(){this.closeModal()}saveInBackground(){this.showModal.set(!1)}clearText(){confirm("\xBFEst\xE1s seguro de que quieres limpiar todo el texto?")&&(this.content="",this.onTextChange())}loadTemplate(){this.content=`Plantilla de ejemplo:

1. Introducci\xF3n
2. Desarrollo
3. Conclusiones`,this.onTextChange()}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=w({type:d,selectors:[["app-h3-page"]],decls:39,vars:10,consts:[["numeroHeuristica","3","titulo","Control y Libertad del Usuario","concepto","Los usuarios a menudo eligen funciones por error y necesitar\xE1n una 'salida de emergencia' claramente marcada para salir del estado no deseado sin tener que pasar por un di\xE1logo extenso. El sistema debe apoyar deshacer y rehacer."],[1,"mt-4"],[1,"p-6","max-w-md","mx-auto","bg-white","rounded","shadow"],[1,"text-xl","mb-4"],["placeholder","Escribe aqu\xED...",1,"w-full","h-32","p-3","border","rounded","resize-none",3,"ngModelChange","ngModel"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-blue-500","text-white","px-4","py-2","rounded",3,"click"],[1,"p-6","max-w-2xl","mx-auto","bg-white","rounded-xl","shadow-lg","border"],[1,"flex","items-center","justify-between","mb-4"],[1,"flex","items-center"],[1,"text-2xl","mr-3"],[1,"text-xl","font-semibold"],[1,"flex","space-x-2"],["title","Deshacer (Ctrl+Z)",1,"px-3","py-2","text-sm","bg-gray-100","hover:bg-gray-200","disabled:bg-gray-50","disabled:text-gray-400","rounded-lg","border","transition-colors",3,"click","disabled"],["title","Rehacer (Ctrl+Y)",1,"px-3","py-2","text-sm","bg-gray-100","hover:bg-gray-200","disabled:bg-gray-50","disabled:text-gray-400","rounded-lg","border","transition-colors",3,"click","disabled"],["placeholder","Escribe aqu\xED... Usa Ctrl+Z para deshacer y Ctrl+Y para rehacer",1,"w-full","h-40","p-4","border-2","border-gray-200","rounded-lg","resize-none","focus:border-blue-500","focus:outline-none",3,"ngModelChange","input","ngModel"],[1,"mt-2","text-sm","text-gray-600","flex","justify-between"],[1,"mt-6","flex","space-x-3"],[1,"px-6","py-3","bg-blue-600","hover:bg-blue-700","disabled:bg-gray-300","text-white","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"px-6","py-3","bg-red-100","hover:bg-red-200","text-red-700","disabled:bg-gray-100","disabled:text-gray-400","rounded-lg","font-medium","transition-colors",3,"click","disabled"],[1,"px-6","py-3","bg-green-100","hover:bg-green-200","text-green-700","rounded-lg","font-medium","transition-colors",3,"click"],[1,"bg-white","p-6","rounded","max-w-sm"],[1,"text-lg","mb-4"],[1,"mb-4"],[1,"flex","justify-center"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"bg-white","p-6","rounded-xl","max-w-md","w-full","mx-4","border"],[1,"text-lg","font-semibold"],[1,"text-gray-400","hover:text-gray-600","text-xl","font-bold","w-8","h-8","flex","items-center","justify-center","rounded-full","hover:bg-gray-100",3,"click"],[1,"mb-2"],[1,"w-full","bg-gray-200","rounded-full","h-2"],[1,"bg-blue-600","h-2","rounded-full","transition-all","duration-300"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","space-x-3"],[1,"flex-1","px-4","py-2","bg-gray-100","hover:bg-gray-200","text-gray-700","rounded-lg","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-blue-100","hover:bg-blue-200","text-blue-700","rounded-lg","transition-colors",3,"click"]],template:function(r,e){r&1&&(h(0,"app-header-heuristica",0),t(1,"section",1)(2,"div",2)(3,"h2",3),i(4,"Editor de Texto"),n(),t(5,"textarea",4),C("ngModelChange",function(c){return v(e.content,c)||(e.content=c),c}),i(6,"      "),n(),_(7,N,8,0,"div",5),t(8,"div",1)(9,"button",6),s("click",function(){return e.saveText()}),i(10," Guardar Texto "),n()()()(),t(11,"section",1)(12,"div",7)(13,"div",8)(14,"div",9)(15,"span",10),i(16,"\u{1F4DD}"),n(),t(17,"h2",11),i(18,"Editor de Texto"),n()(),t(19,"div",12)(20,"button",13),s("click",function(){return e.undo()}),i(21," \u21B6 Deshacer "),n(),t(22,"button",14),s("click",function(){return e.redo()}),i(23," \u21B7 Rehacer "),n()()(),t(24,"textarea",15),C("ngModelChange",function(c){return v(e.content,c)||(e.content=c),c}),s("input",function(){return e.onTextChange()}),i(25,"      "),n(),t(26,"div",16)(27,"span"),i(28),n(),t(29,"span"),i(30),n()(),_(31,V,19,3,"div",5),t(32,"div",17)(33,"button",18),s("click",function(){return e.saveText()}),i(34," \u{1F4BE} Guardar Texto "),n(),t(35,"button",19),s("click",function(){return e.clearText()}),i(36," \u{1F5D1}\uFE0F Limpiar Todo "),n(),t(37,"button",20),s("click",function(){return e.loadTemplate()}),i(38," \u{1F4C4} Cargar Plantilla "),n()()()()),r&2&&(l(5),y("ngModel",e.content),l(2),f(e.showModal()?7:-1),l(13),g("disabled",!e.canUndo()),l(2),g("disabled",!e.canRedo()),l(2),y("ngModel",e.content),l(4),b("Cambios: ",e.history().length),l(2),b("Posici\xF3n: ",e.currentIndex()+1),l(),f(e.showModal()?31:-1),l(2),g("disabled",e.content.length===0),l(2),g("disabled",e.content.length===0))},dependencies:[P,S,T,M,k,H],encapsulation:2,changeDetection:0})};export{I as H3Page};
